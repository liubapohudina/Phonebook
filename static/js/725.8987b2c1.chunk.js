"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[725],{1725:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var a=t(4942),r=t(1413),i=t(9439),o=t(2791),s=t(1620),c={input:"form_input__cqeL6",p:"form_p__75oS7",infoForUser:"form_infoForUser__zOjDw"},l=t(4420),u=t(4070),d=t(2564),m=t(3553),f=function(e){return e.contacts.items},h=(0,m.P1)([function(e){return e.contacts},function(e){return e.filter}],(function(e,n){if(!n||"string"!==typeof n)return e;var t=n.trim().toLowerCase();return e.items.filter((function(e){return(e.name||"").trim().toLowerCase().includes(t)}))})),_=t(184),p=function(){var e=(0,l.v9)(f),n=(0,l.I0)(),t=(0,o.useState)({}),m=(0,i.Z)(t,2),h=m[0],p=m[1],x=function(e){var n=e.target,t=n.name,i=n.value;p((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,a.Z)({},t,i))}))};return(0,_.jsxs)("form",{className:c.form,onSubmit:function(t){t.preventDefault();var a=h.name;e.findIndex((function(e){return e.name.toLocaleLowerCase().trim()===a.toLocaleLowerCase().trim()}))>=0?d.Am.warning("Contact ".concat(a," is already exists!")):(n((0,u.xe)(h)),e.length>0&&t.currentTarget.reset())},children:[(0,_.jsx)("label",{htmlFor:"name",children:"Name"}),(0,_.jsx)("input",{className:c.input,onChange:x,type:"text",name:"name",id:"username",required:!0,placeholder:"Please, enter data of contact"}),(0,_.jsx)("label",{htmlFor:"tel",children:"Phone number "}),(0,_.jsx)("input",{className:c.input,onChange:x,type:"tel",name:"phone",id:"tel",required:!0,placeholder:"Please, enter a phone number"}),(0,_.jsx)(s.Z,{type:"submit",text:"Add contact"})]})},x=t(118),j=t(4164),v="contactsList_contactsList__DGG6L",b="contactsList_itemContacts__PtrNV",N="contactsList_contactInfo__0aqg3",C="contactsList_link__ZZsC4",L="contactsList_btn__1i6Qa",g="contactsList_btns__6FOoP",y=t(4005),k={backdrop:"modal_backdrop__1aTRo",modal:"modal_modal__+OT1t",btnModalClose:"modal_btnModalClose__ZQkiw",icon:"modal_icon__5hS-K",input:"modal_input__SBHw0",p:"modal_p__zA2Iq",infoForUser:"modal_infoForUser__quw1g"},Z=t(7508),w=function(e){var n=e.onClose,t=e.currentId,c=(0,l.v9)(f),m=c.find((function(e){return e._id===t})),h=(0,l.I0)(),p=(0,o.useState)({name:"",phone:"",id:""}),x=(0,i.Z)(p,2),j=x[0],v=x[1];(0,o.useEffect)((function(){m&&v({name:m.name,phone:m.phone,id:m._id})}),[m]);var b=function(e){v((0,r.Z)((0,r.Z)({},j),{},(0,a.Z)({},e.target.name,e.target.value)))};return(0,_.jsx)("div",{className:k.backdrop,onClick:function(e){e.target===e.currentTarget&&n()},onKeyDown:function(e){"Escape"===e.key&&n()},children:(0,_.jsxs)("div",{className:k.modal,children:[(0,_.jsxs)("form",{className:k.form,onSubmit:function(e){return function(e,t){e.preventDefault();var a={name:j.name,phone:j.phone},r=j.name;c.findIndex((function(e){return e.name.toLocaleLowerCase().trim()===r.toLocaleLowerCase().trim()}))>=0?d.Am.warning("Contact ".concat(r," is already exists!")):(h((0,u.LG)({id:t,contact:a})),n())}(e,j.id)},children:[(0,_.jsx)("label",{htmlFor:"name",children:"Name"}),(0,_.jsx)("input",{className:k.input,onChange:b,value:j.name,type:"text",name:"name",id:"username",required:!0}),(0,_.jsx)("label",{htmlFor:"tel",children:"Phone number "}),(0,_.jsx)("input",{className:k.input,onChange:b,value:j.phone,type:"tel",name:"phone",id:"tel",required:!0}),(0,_.jsx)(s.Z,{type:"submit",text:"Edit contact"})]}),(0,_.jsx)("button",{className:k.btnModalClose,onClick:n,children:(0,_.jsx)(Z.$iT,{className:k.icon})})]})})},F=function(){var e=(0,l.v9)(h),n=e.items,t=e.isLoading,a=(0,o.useState)(!1),r=(0,i.Z)(a,2),s=r[0],c=r[1],d=(0,o.useState)(null),m=(0,i.Z)(d,2),f=m[0],p=m[1],x=(0,l.v9)(h),k=(0,l.I0)();(0,o.useEffect)((function(){k((0,u.yF)())}),[k]);var Z=function(e){k((0,u.ze)(e))},F=function(e){c(!0),p(e)},I=n?n.map((function(e){return(0,_.jsxs)("li",{className:b,children:[(0,_.jsxs)("p",{className:N,children:[e.name," ",(0,_.jsx)("a",{className:C,href:"tel:".concat(e.phone),children:e.phone})]}),(0,_.jsxs)("div",{className:g,children:[(0,_.jsx)("button",{id:e._id,className:L,onClick:function(){return Z(e._id)},type:"button",children:"Delete"}),(0,_.jsx)("button",{id:e._id,className:L,onClick:function(){return F(e._id)},type:"button",children:"Edit"})]})]},e._id)})):x.map((function(e){return(0,_.jsxs)("li",{className:b,children:[(0,_.jsxs)("p",{className:N,children:[e.name,"  ",e.phone]}),(0,_.jsxs)("div",{className:g,children:[(0,_.jsx)("button",{id:e._id,className:L,onClick:function(){return Z(e._id)},type:"button",children:"Delete"}),(0,_.jsx)("button",{id:e._id,className:L,onClick:function(){return F(e._id)},type:"button",children:"Edit"})]})]},e._id)}));return(0,_.jsxs)(_.Fragment,{children:[t&&(0,_.jsx)(y.a,{}),s&&(0,j.createPortal)((0,_.jsx)(w,{currentId:f,onClose:function(){return c(!1)}}),document.querySelector("#modal-root")),(0,_.jsx)("div",{className:"contactsList",children:(0,_.jsx)("ul",{className:v,children:I})})]})},I=t(5653),S=function(e){var n=e.children,t=(0,l.v9)(f).length,a=(0,l.I0)();return(0,_.jsxs)("section",{children:[Boolean(t)?(0,_.jsxs)("div",{className:"filter",children:[(0,_.jsx)(x.Z,{title:"Contacts"}),(0,_.jsx)("p",{className:c.p,children:"Find contacts by name"}),(0,_.jsx)("form",{children:(0,_.jsx)("input",{onChange:function(e){var n=e.target.value,t=(0,I.K)({filter:n});a(t)},className:c.input,name:"filter",type:"text",placeholder:"Enter name"})})]}):(0,_.jsx)("p",{className:c.infoForUser,children:"You don't have any contacts yet."}),n]})},q=function(){return(0,_.jsxs)("main",{className:"container",children:[(0,_.jsx)(x.Z,{title:"Phonebook",children:(0,_.jsx)(p,{})}),(0,_.jsx)(S,{children:(0,_.jsx)(F,{})})]})}},118:function(e,n,t){t.d(n,{Z:function(){return i}});t(2791);var a="title_title__3H47j",r=t(184),i=function(e){var n=e.title,t=e.children;return(0,r.jsxs)("section",{children:[(0,r.jsx)("h2",{className:a,children:n}),t]})}}}]);
//# sourceMappingURL=725.8987b2c1.chunk.js.map